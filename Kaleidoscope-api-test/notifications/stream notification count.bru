meta {
  name: stream notification count
  type: http
  seq: 1
}

get {
  url: {{base_url}}/api/notifications/stream?ticket=4fc20847-bca2-4db7-8a32-ca44822b8f51
  body: none
  auth: bearer
}

params:query {
  ticket: 4fc20847-bca2-4db7-8a32-ca44822b8f51
}

headers {
  Content-Type: text/event-stream
  Accept: text/event-stream
}

auth:bearer {
  token: {{accessToken}}
}

docs {
  # Stream Notification Count (SSE)
  
  Establishes a Server-Sent Events (SSE) connection to receive real-time unread notification count updates.
  
  ## Initial Broadcast
  - Upon connection, the server immediately sends the current unread count
  - Event name: `unseen-count`
  - Data: integer value representing unread count
  
  ## Live Updates
  - Whenever a new notification arrives, the count is automatically broadcasted
  - When notifications are marked as read, the updated count is sent
  - When notifications are deleted, the count is decremented and sent
  
  ## Connection Management
  - Connection timeout: 1 hour
  - Automatic cleanup of stale connections every 5 minutes
  - Connection is removed when user logs out
  
  ## Response Format
  ```
  event: unseen-count
  data: 5
  ```
}
